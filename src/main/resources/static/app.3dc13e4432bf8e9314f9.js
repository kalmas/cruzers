webpackJsonp([0],{0:function(e,t,n){"use strict";var o=n(1),r=n(3),i=n(24);r.enableProdMode(),o.platformBrowserDynamic().bootstrapModule(i.AppModule)},24:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=n(22),s=n(25),c=n(26),l=n(31),p=n(34),u=n(40),f=n(74),d=function(){function e(){}return e=o([i.NgModule({imports:[a.BrowserModule,s.HttpModule,f.routing],declarations:[c.AppComponent,l.AboutComponent,p.HomeComponent,u.SongComponent],providers:[],bootstrap:[c.AppComponent]}),r("design:paramtypes",[])],e)}();t.AppModule=d},26:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3);n(27);var a=function(){function e(){}return e=o([i.Component({selector:"my-app",template:"<router-outlet></router-outlet>"}),r("design:paramtypes",[])],e)}();t.AppComponent=a},27:352,31:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=function(){function e(){}return e=o([i.Component({template:n(32),styles:[n(33)]}),r("design:paramtypes",[])],e)}();t.AboutComponent=a},32:function(e,t){e.exports='<header>\n    <nav>\n        <div class="nav-wrapper purple lighten-1">\n        <a [routerLink]="[\'/\']" class="brand-logo right">Cruzers Forever</a>\n            <ul id="nav-mobile" class="left">\n                <li><a [routerLink]="[\'/\']">Home</a></li>\n                <li class="active"><a [routerLink]="[\'/about\']">About</a></li>\n            </ul>\n        </div>\n    </nav>\n</header>\n\n<main>\n    <div id="content" class="section no-pad-bot">\n        <div class="container">\n            <div class="title">What is this?</div>\n            <p>This is a useless website.</p>\n            <p>It\'s allows you to search through the karaoke song book from Cruzers Seamans Club. Cruzers was a dive bar, it used to be <a href="https://www.google.com/maps/place/601+Orapax+St,+Norfolk,+VA+23507/@36.865136,-76.3120065">here</a>, but it\'s gone now.</p>\n            <p>Song data was scraped from <a href="https://github.com/kalmas/cruzers/tree/master/songbook/scans">these scans</a>, made several years ago. I cleaned up the data a little, but its still pretty rough.</p>\n            <p>Dedicated to the memory of the best bar in Norfolk. The building is a new bar now, but to some it will be Cruzers Forever.</p>\n            <p>Website is by Kyle (<a href="http://kalmas.net/">kalmas.net</a>). Source is available at <a href="https://github.com/kalmas/cruzers">https://github.com/kalmas/cruzers</a></p>\n            <p>Art is by Greg (<a href="https://www.facebook.com/harringtoncomics">Harrington Comics</a>)</p>\n        </div>\n    </div>\n</main>'},33:function(e,t){e.exports=".title {\n    font-size: xx-large;\n}"},34:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=n(35),s=n(36),c=n(4),l=function(){function e(e,t){var n=this;this.songService=e,this.storageService=t,this.lastQuery="",this.spinnerOn=!1,this.queryStream=new c.Subject,this.songService=e,this.queryStream.distinctUntilChanged().debounceTime(500).switchMap(function(e){return n.spinnerOn=!0,n.lastQuery=e,n.songService.suggestSongs(e,10)}).subscribe(function(e){n.songs=e,n.spinnerOn=!1})}return e.prototype.ngOnInit=function(){this.lastQuery=this.storageService.get("query"),this.songs=this.storageService.get("songs")},e.prototype.ngOnDestroy=function(){this.storageService.set("query",this.lastQuery),this.storageService.set("songs",this.songs)},e.prototype.search=function(e){this.queryStream.next(e)},e.prototype.onSubmit=function(e){e.preventDefault()},e.prototype.focus=function(e){e.focus()},e=o([i.Component({template:n(37),styles:[n(39)],providers:[a.SongService,s.StorageService]}),r("design:paramtypes",[a.SongService,s.StorageService])],e)}();t.HomeComponent=l},35:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=n(25),s=n(5),c=n(36),l=function(){function e(e,t){this.http=e,this.storageService=t,this.suggestUrl="/songs/suggest",this.cache=new Array}return e.prototype.suggestSongs=function(e,t){var n=new a.URLSearchParams;return n.set("query",e),n.set("count",t.toString()),this.http.get(this.suggestUrl,{search:n}).map(this.extractData)["catch"](this.handleError)},e.prototype.getById=function(e){var t=this.storageService.get("songs");return t?t.find(function(t){return t.id==e}):null},e.prototype.extractData=function(e){var t=e.json(),n=t.content||[];return this.cache=n,n},e.prototype.handleError=function(e){var t=e.message?e.message:e.status?e.status+" - "+e.statusText:"Server error";return console.error(t),s.Observable["throw"](t)},e=o([i.Injectable(),r("design:paramtypes",[a.Http,c.StorageService])],e)}();t.SongService=l},36:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=function(){function e(){this.storageNamespace="_STORAGE_SERVICE",void 0==window[this.storageNamespace]&&(window[this.storageNamespace]=new Object),this.storage=window[this.storageNamespace]}return e.prototype.set=function(e,t){this.storage[e]=JSON.stringify(t)},e.prototype.get=function(e){var t=this.storage[e];return null==t?null:JSON.parse(t)},e=o([i.Injectable(),r("design:paramtypes",[])],e)}();t.StorageService=a},37:function(e,t,n){e.exports='<header>\n    <nav id="header">\n        <div class="nav-wrapper purple lighten-1">\n            <form (submit)="onSubmit($event)" id="search-form">\n                <div class="input-field">\n                    <input #query (keyup)="search(query.value)" id="search" type="search" autocomplete="off" placeholder="Search for a song..." [value]="lastQuery" >\n                    <label for="search"><i class="material-icons">search</i></label>\n                    <div [class.active]="spinnerOn" class="preloader-wrapper small" id="spins">\n                        <div class="spinner-layer">\n                            <div class="circle-clipper right">\n                                <div class="circle"></div>\n                            </div>\n                        </div>\n                    </div>\n                    <ul id="suggestions" class="collection dropdown-content">\n                        <a *ngFor="let song of songs" [routerLink]="[\'/songs\', song.id]"  class="collection-item suggestion">\n                            <span class="title">{{ song.title }}</span>\n                            <p>{{ song.artist }}</p>\n                            <p>{{ song.code }}</p>\n                        </a>\n                    </ul>\n                </div>\n            </form>\n        </div>\n    </nav>\n</header>\n\n<main>\n    <div id="content" (click)="focus(query)" class="section no-pad-bot">\n      <div class="container center-align">\n          <!-- <img src="http://placehold.it/500x643" id="main-image"> -->\n          <img src="'+n(38)+'" id="main-image">\n      </div>\n    </div>\n</main>\n\n<footer id="footer">\n    <a class="footer-link" [routerLink]="[\'/about\']">What is this?</a>\n</footer>\n'},38:function(e,t,n){e.exports=n.p+"assets/cruzers500.91b8310bb11e38aaa370e5badc89622b.png"},39:function(e,t){e.exports="body {\n    display: flex;\n    min-height: 100vh;\n    flex-direction: column;\n}\n\nmain {\n    flex: 1 0 auto;\n}\n\n#spins {\n    position: absolute;\n    top: 0px;\n    right: 0px;\n    margin-top: 10px;\n    margin-right: 10px;\n}\n\nfooter {\n    text-align: center;\n}\n\n.footer-link {\n     font-size: small;\n     margin-bottom: 10px;\n     width: 100%;\n}\n\n@media (max-width: 450px) {\n    #main-image {\n        width: 100%;\n    }\n}\n\n@media (min-width: 451px) {\n    #main-image {\n        width: 405px;\n    }\n}\n\n\n#suggestions {\n    margin-top: -20px;\n    display: block;\n    opacity: 1;\n    position: static;\n}\n\n#suggestions li {\n    cursor: default;\n}\n\n.suggestion > .title {\n    font-size: x-large;\n    color: #757575;\n    padding-bottom: 0px;\n}\n\n.suggestion > p {\n    color: #757575;\n    margin: 0px;\n    padding: 0px 16px;\n}\n\n::-webkit-input-placeholder { /* WebKit, Blink, Edge */\n    color:    #f3e5f5;\n}\n:-moz-placeholder { /* Mozilla Firefox 4 to 18 */\n   color:    #f3e5f5;\n   opacity:  1;\n}\n::-moz-placeholder { /* Mozilla Firefox 19+ */\n   color:    #f3e5f5;\n   opacity:  1;\n}\n:-ms-input-placeholder { /* Internet Explorer 10-11 */\n   color:    #f3e5f5;\n}\n\n"},40:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=n(41),s=n(22),c=n(35),l=n(36),p=n(71),u=function(){function e(e,t,n,o,r){this.route=e,this.router=t,this.songService=n,this.videoService=o,this.sanitizer=r}return e.prototype.ngOnInit=function(){var e=this;this.sub=this.route.params.switchMap(function(t){e.song=e.songService.getById(t.id);var n=e.song.title+" "+e.song.artist+" karaoke";return e.videoService.searchVideos(n,1)}).subscribe(function(t){if(e.video=t[0],null==e.video)e.videoError=!0;else{e.videoError=!1;var n="https://www.youtube.com/embed/"+e.video.id.videoId+"?origin=http://cruzersforever.com";e.videoUrl=e.sanitizer.bypassSecurityTrustResourceUrl(n)}},function(t){return e.router.navigateByUrl("/")})},e.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},e=o([i.Component({template:n(72),styles:[n(73)],providers:[c.SongService,l.StorageService,p.VideoService]}),r("design:paramtypes",[a.ActivatedRoute,a.Router,c.SongService,p.VideoService,s.DomSanitizer])],e)}();t.SongComponent=u},71:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=n(25),s=n(5),c=function(){function e(e){this.http=e,this.url="https://www.googleapis.com/youtube/v3/search",this.key="AIzaSyATQzV1sWmT1VSiuZ0J_Fp3jh7_PwAfDHw"}return e.prototype.searchVideos=function(e,t){var n=new a.URLSearchParams;return n.set("part","snippet"),n.set("maxResults",t.toString()),n.set("q",e),n.set("type","video"),n.set("videoEmbeddable","true"),n.set("key",this.key),this.http.get(this.url,{search:n}).map(this.extractData)["catch"](this.handleError)},e.prototype.extractData=function(e){var t=e.json(),n=t.items||[];return n},e.prototype.handleError=function(e){var t=e.message?e.message:e.status?e.status+" - "+e.statusText:"Server error";return console.error(t),s.Observable["throw"](t)},e=o([i.Injectable(),r("design:paramtypes",[a.Http])],e)}();t.VideoService=c},72:function(e,t){e.exports='<header>\n    <nav>\n        <div class="nav-wrapper purple lighten-1">\n        <a [routerLink]="[\'/\']" class="brand-logo right">Cruzers Forever</a>\n            <ul id="nav-mobile" class="left">\n                <li>\n                    <a [routerLink]="[\'/\']">\n                        <i class="material-icons">keyboard_arrow_left</i>\n                    </a>\n                </li>\n                <li class="active"><a [routerLink]="[\'/about\']">About</a></li>\n            </ul>\n        </div>\n    </nav>\n</header>\n\n\n<main>\n    <div id="content" class="section no-pad-bot">\n        <div *ngIf="song" class="container">\n            <div class="xxl">{{ song.title }}</div>\n            <div class="xl">{{ song.artist }}</div>\n            <div class="l mb20">{{ song.code }}</div>\n            <div *ngIf="videoUrl">\n                <iframe  id="ytplayer" type="text/html"\n                    [src]="videoUrl" frameborder="0"></iframe>\n            </div>\n            <div *ngIf="!videoUrl">\n                <div class="b">Let\'s see if we can find a video for that...</div>\n                <div *ngIf="videoError">\n                    Sorry, couldn\'t find a video. Just sing it from memory.\n                </div>\n                <div *ngIf="!videoError" class="preloader-wrapper small active" id="spins">\n                    <div class="spinner-layer">\n                        <div class="circle-clipper right">\n                            <div class="circle"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</main>\n'},73:function(e,t){e.exports="#title {\n    font-size: xx-large;\n}\n\n#artist {\n    font-size: x-large;\n}\n\n#code {\n    font-size: x-large;\n}\n\nmain {\n    text-align: center;\n}\n\n#ytplayer {\n    width: 640px;\n    height: 390px;\n}\n\n@media (max-width: 720px) {\n    #ytplayer {\n        width: 100%;\n        height: 300px;\n    }\n}\n"},74:function(e,t,n){"use strict";var o=n(41),r=n(31),i=n(34),a=n(40),s=[{path:"",component:i.HomeComponent},{path:"about",component:r.AboutComponent},{path:"songs/:id",component:a.SongComponent}];t.appRoutingProviders=[],t.routing=o.RouterModule.forRoot(s)}});
//# sourceMappingURL=app.3dc13e4432bf8e9314f9.js.map